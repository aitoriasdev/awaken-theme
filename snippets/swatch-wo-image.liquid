{%- doc -%}
  Renders a swatch

  @param {object} swatch - a swatch object
  @param {string} [mode] - one of 'unscaled' or 'filter'

  @example
  {% render 'swatch-wo-image', swatch: swatch, variant_image: variant_image, mode: 'unscaled' %}
{%- enddoc -%}

{% liquid
  assign swatch_value = null
  if swatch.color
    assign swatch_value = 'rgb(' | append: swatch.color.rgb | append: ')'
  endif
  assign classes =
  case mode
    when 'unscaled'
      assign extra_classes = ' swatch--unscaled'
    when 'filter'
      assign extra_classes = ' swatch--filter'
    when 'pill'
      assign extra_classes = ' swatch--pill'
    else
      assign extra_classes = ''
  endcase
%}

<span
  class="swatch{{ extra_classes }}{% if swatch_value == null %} swatch--unavailable{% endif %}"
  style="--swatch-background: {{ swatch_value }};"
>
</span>
